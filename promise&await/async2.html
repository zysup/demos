<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>

  <body></body>
  <script>
    // function 摇色子() {
    //     return new Promise((resolve, reject) => {
    //         let sino = parseInt(Math.random() * 6 + 1)
    //         setTimeout(() => {
    //             resolve(sino)
    //         }, 300)
    //     })
    // }
    // async function test() {
    //     console.log("开始");
    //     let n = await 摇色子()
    //     throw n;
    //     return n;
    // }
    // test().then(console.log).catch(console.warn)

    //-----------------------------------------
    // function 摇色子(猜测) {
    //     return new Promise((resolve, reject) => {
    //         let sino = parseInt(Math.random() * 6 + 1)
    //         setTimeout(() => {
    //         if (sino > 3) {
    //             if (猜测 === '大') {
    //                 resolve(sino)
    //             } else {
    //                 reject(sino)
    //             }
    //         } else {
    //             if (猜测 === '大') {
    //                 reject(sino)
    //             } else {
    //                 resolve(sino)
    //             }
    //         }
    //         }, 1000)
    //     })
    // }
    // async function test() {
    //     try {
    //         //把await及获取它的值的操作放在try里
    //         let n = await 摇色子('大')
    //         console.log('赢了' + n)
    //     } catch (error) {
    //         //失败的操作放在catch里
    //         console.log('输了' + error)
    //     }
    // }
    // test()

    //----------------------------------------
    function 摇色子(猜测) {
      return new Promise((resolve, reject) => {
        let sino = parseInt(Math.random() * 6 + 1);
        // console.log('aa',sino);
        // if (sino > 3) {
        //     if (猜测 === '大') {
        //         resolve(sino)
        //     } else {
        //         console.log('error')
        //         reject(sino)
        //     }
        // } else {
        //     if (猜测 === '大') {
        //         console.log('error')
        //         reject(sino)
        //     } else {
        //         resolve(sino)
        //     }
        // }
        setTimeout(() => {
          if (sino > 3) {
            if (猜测 === "大") {
              resolve(sino);
            } else {
              console.log("error");
              reject(sino);
            }
          } else {
            if (猜测 === "大") {
              console.log("error");
              reject(sino);
            } else {
              resolve(sino);
            }
          }
        }, 1000);
      });
    }
    Promise.all([摇色子("大"), 摇色子("大")]).then(
      function name(params) {
        console.log("bb", params);
      },
      function name(params) {
        console.log("cc", params);
      },
    );
  </script>
</html>
